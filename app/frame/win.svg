
<svg id="main" width="100%" height="100%" version="1.1" xmlns="http://www.w3.org/2000/svg">
    <g id="layer1">
        <rect width="20%" height="100%" x="0" y="0" id="leftMenu" style="fill:#333;stroke:#000000;" />
        <rect width="80%" height="100%" x="20%" y="0" id="designArea" style="fill:#eee;stroke:#000000;" onclick="add(this.event)"/>
        <rect width="5em" height="5em" x="2em" y="2em" id="rectBtn" style="fill:yellow;stroke:red;" rx="5" ry="5" onclick="add_figure('rectangle')"/>
		<circle cx="12em" cy="4.5em" r="2.5em" style="stroke:red; fill:yellow" onclick="add_figure('circle')"/>
		<line x1="2em" y1="9em" x2="7em" y2="14em" style="stroke:yellow;stroke-width:0.5em" onclick="add_figure('line')"/>
    </g>  
  
    <script><![CDATA[
	/* Idea: http://srufaculty.sru.edu/david.dailey/svg/makeDragDrop.svg */
		
		var	xmlns="http://www.w3.org/2000/svg"
		xlink="http://www.w3.org/1999/xlink" 
		Root=document.documentElement
		standardize(Root)
		figure= null;
		

		function standardize(R){
			var Attr={
				"onmouseup":"add(evt)",
			}
			assignAttr(R,Attr);
		}
		
		function add_figure(name) {
		figure = name;
		}


		function add(evt){
		
		if (figure =="null")  { return; }
		else if(evt.clientX - window.innerWidth * 0.2 < 0) { return; }
	
		else if(figure == "rectangle") {
			var r=document.createElementNS(xmlns,"rect");
			var stroke=Color();
			var Attr={
				"height":"5em",
				"width":"5em",
				"x": evt.clientX,
				"y": evt.clientY,
				"fill": Color(),
				"fill-opacity":.75,
				"stroke": stroke,
				"stroke-opacity":.5,
				"id":stroke,
			}
			assignAttr(r,Attr);
			Root.appendChild(r);
		}
		
		else if(figure == "circle") {
			var c=document.createElementNS(xmlns,"circle");
			var stroke=Color();
			var rad=10+Math.random()*50;
			var Attr={
				"r":rad,
				"cx": evt.clientX,
				"cy": evt.clientY,
				"fill": Color(),
				"fill-opacity":.75,
				"stroke": stroke,
				"stroke-opacity":.5,
				"id":stroke,
			}
			assignAttr(c,Attr);
			Root.appendChild(c);
		}
		
		else if(figure == "line") {
			var l=document.createElementNS(xmlns,"line");
			var stroke=Color();
			var Attr={
				"x1": evt.clientX,
				"y1": evt.clientY,
				"x2": evt.clientX + 100,
				"y2": evt.clientY + 100,
				"fill": "blue",
				"stroke": stroke
			}
			assignAttr(l,Attr);
			Root.appendChild(l);
		}
	}

	function assignAttr(O,A){
		for (i in A) O.setAttributeNS(null,i, A[i]);
	}
	function Color(){
		return "rgb("+parseInt(Math.random()*255)+","+parseInt(Math.random()*255)+","+parseInt(Math.random()*255)+")";
	}
	]]>
	</script>
    
</svg>
